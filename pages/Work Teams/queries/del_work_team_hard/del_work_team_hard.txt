START TRANSACTION;

DELETE l
FROM work_team_member_links l
JOIN work_team_members w
  ON w.work_team_member_id = l.work_team_member_id
WHERE w.work_team_id = {{ tbl_work_teams.triggeredRow?.work_team_id || tbl_work_teams.selectedRow?.work_team_id || 0 }}
LIMIT 100000;

DELETE c
FROM work_team_member_credentials c
JOIN work_team_members w
  ON w.work_team_member_id = c.work_team_member_id
WHERE w.work_team_id = {{ tbl_work_teams.triggeredRow?.work_team_id || tbl_work_teams.selectedRow?.work_team_id || 0 }}
LIMIT 100000;

DELETE FROM work_team_members
WHERE work_team_id = {{ tbl_work_teams.triggeredRow?.work_team_id || tbl_work_teams.selectedRow?.work_team_id || 0 }}
LIMIT 100000;

DELETE FROM work_teams
WHERE work_team_id = {{ tbl_work_teams.triggeredRow?.work_team_id || tbl_work_teams.selectedRow?.work_team_id || 0 }}
LIMIT 1;

COMMIT;
