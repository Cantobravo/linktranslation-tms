{
  "gitSyncId": "6840b6d2ece888096e42342a_bc83acda-ab8a-4f3d-aefd-a26d9fde355e",
  "id": "Price List_get_pl_items_acc",
  "pluginId": "mysql-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "SELECT\n  pli.price_list_item_id,\n  pli.price_list_id,\n  c.customer_name,\n  ca.customer_account_name,\n  s.service_name,\n  u.unit_name,\n  sl.language_name AS source_language,\n  tl.language_name AS target_language,\n  cur.currency_acronym AS currency,\n  pli.sell_rate,\n  pli.cost_rate,\n  CASE\n    WHEN pli.sell_rate = 0 THEN 0\n    ELSE ROUND(((pli.sell_rate - pli.cost_rate) / pli.sell_rate) * 100, 2)\n  END AS gross_margin,\n  pli.is_active,\n  pli.notes,\n  pli.service_id,\n  pli.unit_id,\n  pli.source_language_id,\n  pli.target_language_id\nFROM price_list_items pli\nJOIN price_lists pl\n  ON pl.price_list_id = pli.price_list_id\nJOIN customer_accounts ca\n  ON ca.customer_account_id = pl.customer_account_id\nLEFT JOIN customers c\n  ON c.customer_id = ca.customer_id\nLEFT JOIN currencies cur\n  ON cur.currency_id = c.currency_id\nLEFT JOIN services s\n  ON s.service_id = pli.service_id\nLEFT JOIN units u\n  ON u.unit_id = pli.unit_id\nLEFT JOIN languages sl\n  ON sl.language_id = pli.source_language_id\nLEFT JOIN languages tl\n  ON tl.language_id = pli.target_language_id\nWHERE pl.price_list_scope = 'ACCOUNT'\n  AND pl.customer_account_id = COALESCE({{ dd_pl_acc.selectedOptionValue }}, NULL)\n  AND pli.is_active = COALESCE({{ sw_pl_inact.isSwitchedOn ? NULL : 1 }}, pli.is_active)\nORDER BY\n  s.service_name,\n  u.unit_name,\n  sl.language_name,\n  tl.language_name,\n  pli.price_list_item_id\n",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "linktranslation",
      "isAutoGenerated": false,
      "name": "linktranslation",
      "pluginId": "mysql-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "name": "get_pl_items_acc",
    "pageId": "Price List",
    "runBehaviour": "AUTOMATIC",
    "userSetOnLoad": false
  }
}