INSERT INTO resources (
  resource_first_name,
  resource_last_name,
  resource_full_name,
  resource_email,
  resource_country,
  resource_status,
  resource_phone,
  resource_documentation,
  resource_native_language,
  currency_id,
  resource_payment_term,
  resource_address,
  resource_feedback_notes,
  created_at
)
VALUES (
  NULLIF({{ j_res_ins_form.formData.resource_first_name }}, ''),
  NULLIF({{ j_res_ins_form.formData.resource_last_name }}, ''),
  TRIM(CONCAT(
    COALESCE({{ j_res_ins_form.formData.resource_first_name }}, ''), ' ',
    COALESCE({{ j_res_ins_form.formData.resource_last_name }}, '')
  )),
  NULLIF({{ j_res_ins_form.formData.resource_email }}, ''),
  NULLIF({{ j_res_ins_form.formData.resource_country }}, ''),
  NULLIF({{ j_res_ins_form.formData.resource_status }}, ''),
  NULLIF({{ j_res_ins_form.formData.resource_phone }}, ''),
  NULLIF({{ j_res_ins_form.formData.resource_documentation }}, ''),
  NULLIF({{ j_res_ins_form.formData.resource_native_language }}, ''),
  COALESCE(NULLIF({{ j_res_ins_form.formData.currency_id }}, ''), NULL),
  NULLIF({{ j_res_ins_form.formData.resource_payment_term }}, ''),
  NULLIF({{ j_res_ins_form.formData.resource_address }}, ''),
  NULLIF({{ j_res_ins_form.formData.resource_feedback_notes }}, ''),
  NOW()
);

SELECT LAST_INSERT_ID() AS new_id;
