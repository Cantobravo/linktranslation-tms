{
  "animateLoading": true,
  "borderRadius": "0.375rem",
  "bottomRow": 11,
  "boxShadow": "none",
  "buttonColor": "{{appsmith.theme.colors.primaryColor}}",
  "buttonVariant": "SECONDARY",
  "disabledWhenInvalid": false,
  "dynamicBindingPathList": [
    {
      "key": "buttonColor"
    }
  ],
  "dynamicPropertyPathList": [
    {
      "key": "onClick"
    }
  ],
  "dynamicTriggerPathList": [
    {
      "key": "onClick"
    }
  ],
  "isDefaultClickDisabled": true,
  "isDisabled": false,
  "isLoading": false,
  "isVisible": true,
  "key": "q0tjwhpebq",
  "leftColumn": 45,
  "minWidth": 120,
  "mobileBottomRow": 16,
  "mobileLeftColumn": 42,
  "mobileRightColumn": 58,
  "mobileTopRow": 12,
  "needsErrorInfo": false,
  "onClick": "{{\n(() => {\n  var sel = i_email_template_res.selectedOptionValue;\n  if (!sel) { showAlert('Please choose a template','error'); return; }\n\n  var rows = tbl_resources.selectedRows || [];\n  if (!rows.length) { showAlert('Please select at least one resource','error'); return; }\n\n  var tpl = (get_tpl_by_id_res.data && get_tpl_by_id_res.data[0]) || null;\n  if (!tpl) { showAlert('Template not loaded yet. Pick the template again.','error'); return; }\n\n  var wt  = (get_wt_info_res.data && get_wt_info_res.data[0]) || {};\n  var cred = tbl_wtm_creds.selectedRow || (tbl_wtm_creds.selectedRows && tbl_wtm_creds.selectedRows[0]) || {};\n\n  var team =\n    (typeof i_wt_pick !== 'undefined' && i_wt_pick.selectedOptionLabel) ||\n    (typeof sel_wt_filter !== 'undefined' && sel_wt_filter.selectedOptionLabel) ||\n    (rows[0] && rows[0].work_team_name) || '';\n\n  var expand = function(str, row) {\n    if (!str) return '';\n    var out  = String(str);\n    var name = (row.resource_full_name || row.resource_name || '');\n\n    out = out\n      .replace(/\\{resource_full_name\\}/g, name)\n      .replace(/\\{resource_name\\}/g, name)\n      .replace(/\\{resource_email\\}/g, row.resource_email || '')\n      .replace(/\\{resource_alias_email\\}/g, row.resource_alias_email || cred.alias_email || '')\n      .replace(/\\{work_team_name\\}/g, team || '')\n      .replace(/\\{source_language_name\\}/g, wt.source_language_name || '')\n      .replace(/\\{target_language_name\\}/g, wt.target_language_name || '')\n      .replace(/\\{webapp_name\\}/g, wt.webapp_name || '')\n      .replace(/\\{customer_account_name\\}/g, wt.customer_account_name || '')\n      .replace(/\\{service_name\\}/g, wt.service_name || '')\n      .replace(/\\{translator_rate\\}/g, wt.translator_rate || '')\n      .replace(/\\{cred_username\\}/g, cred.username || '')\n      .replace(/\\{cred_alias_email\\}/g, cred.alias_email || '')\n      .replace(/\\{cred_password\\}/g, cred.password_text || '');\n    return out;\n  };\n\n  var bccTpl = tpl.template_email_bcc_field || '{resource_email}';\n  var bccList = [];\n  for (var i = 0; i < rows.length; i++) {\n    var expanded = expand(bccTpl, rows[i]);\n    var parts = expanded.split(/[;,]/).map(function(s){ return s.trim(); }).filter(Boolean);\n    bccList = bccList.concat(parts);\n  }\n  var seen = {};\n  var bcc = bccList.filter(function(e){ if (seen[e]) return false; seen[e]=1; return true; }).join(';');\n\n  var first = rows[0] || {};\n  var subject = expand(tpl.template_email_subject || '', first);\n  if (!subject || subject.trim() === '') {\n    subject = expand(tpl.template_name || 'Message', first);\n  }\n\n  var bodyHtml = expand(tpl.template_email_body_html || '', first);\n  var bodyText = bodyHtml\n    .replace(/<\\s*br\\s*\\/?>/gi, '\\r\\n')\n    .replace(/<\\s*\\/p\\s*>/gi, '\\r\\n')\n    .replace(/<\\s*p[^>]*>/gi, '')\n    .replace(/<[^>]*>/g, '')\n    .replace(/\\r?\\n/g, '\\r\\n')\n    .trim();\n\n  var url = 'mailto:?subject=' + encodeURIComponent(subject)\n          + '&bcc=' + encodeURIComponent(bcc)\n          + '&body=' + encodeURIComponent(bodyText || '');\n\n  navigateTo(url, {}, 'NEW_WINDOW');\n})()\n}}\n",
  "parentColumnSpace": 11.522216796875,
  "parentId": "5tfpl9779p",
  "parentRowSpace": 10,
  "placement": "CENTER",
  "recaptchaType": "V3",
  "renderMode": "CANVAS",
  "resetFormOnClick": false,
  "responsiveBehavior": "hug",
  "rightColumn": 61,
  "text": "Send Email (Bcc)",
  "topRow": 6,
  "type": "BUTTON_WIDGET",
  "version": 1,
  "widgetId": "faif3s1xsp",
  "widgetName": "btn_send_email_bcc"
}