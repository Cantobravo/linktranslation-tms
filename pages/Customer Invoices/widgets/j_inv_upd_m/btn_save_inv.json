{
  "animateLoading": true,
  "borderRadius": "0.375rem",
  "bottomRow": 38,
  "boxShadow": "none",
  "buttonColor": "{{appsmith.theme.colors.primaryColor}}",
  "buttonStyle": "PRIMARY_BUTTON",
  "buttonVariant": "SECONDARY",
  "disabledWhenInvalid": false,
  "dynamicBindingPathList": [
    {
      "key": "buttonColor"
    }
  ],
  "dynamicPropertyPathList": [
    {
      "key": "onClick"
    }
  ],
  "dynamicTriggerPathList": [
    {
      "key": "onClick"
    }
  ],
  "isDefaultClickDisabled": true,
  "isDisabled": false,
  "isLoading": false,
  "isVisible": true,
  "key": "5uy8acrq26",
  "leftColumn": 40,
  "minWidth": 120,
  "mobileBottomRow": 22,
  "mobileLeftColumn": 47,
  "mobileRightColumn": 63,
  "mobileTopRow": 18,
  "needsErrorInfo": false,
  "onClick": "{{\n(async () => {\n  try {\n    // 1) Persist invoice fields (e.g., dates)\n    await upd_invoice_dates.run();\n\n    // 2) Bulk-sync status for all projects currently linked to this invoice\n    const invId = appsmith.store.invId || appsmith.store.invRow?.customer_invoice_id;\n    if (invId) {\n      await get_inv_linked_project_ids.run();\n      const ids = (get_inv_linked_project_ids.data || []).map(r => r.project_id).filter(Boolean);\n      if (ids.length) {\n        await Promise.all(ids.map(id => set_proj_status_by_links.run({ project_id: id })));\n      }\n    }\n\n    // 3) Close modal\n    closeModal('j_inv_upd_m');\n\n    // 4) Refresh main-page data\n    await get_invoices.run();        // main invoices table\n    await get_uninv_proj_all.run();  // \"Not Invoiced Projects\" preview\n    if (appsmith.store.invPrevId) {\n      await get_inv_proj_prev.run(); // side preview for selected invoice\n    }\n\n    // 5) Clear modal state\n    await storeValue('invId', undefined);\n    await storeValue('invRow', undefined);\n\n    showAlert('Invoice saved.', 'success');\n  } catch (e) {\n    showAlert('Save error: ' + (e?.message || e), 'error');\n  }\n})()\n}}\n",
  "parentId": "x86ew3l311",
  "placement": "CENTER",
  "recaptchaType": "V3",
  "renderMode": "CANVAS",
  "resetFormOnClick": false,
  "responsiveBehavior": "hug",
  "rightColumn": 52,
  "text": "Save",
  "topRow": 34,
  "type": "BUTTON_WIDGET",
  "version": 1,
  "widgetId": "l3k8t3evag",
  "widgetName": "btn_save_inv"
}