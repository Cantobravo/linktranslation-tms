UPDATE customer_portals
SET
  customer_portal_name         = COALESCE({{ j_cport_upd_jsn.formData.customer_portal_name }},         customer_portal_name),
  customer_id                  = COALESCE({{ j_cport_upd_jsn.formData.customer_id }},                  customer_id),
  customer_contact_id          = COALESCE({{ j_cport_upd_jsn.formData.customer_contact_id }},          customer_contact_id),
  customer_portal_credentials  = COALESCE({{ j_cport_upd_jsn.formData.customer_portal_credentials }},  customer_portal_credentials),
  customer_portal_website      = COALESCE({{ j_cport_upd_jsn.formData.customer_portal_website }},      customer_portal_website),
  customer_portal_notes        = COALESCE({{ j_cport_upd_jsn.formData.customer_portal_notes }},        customer_portal_notes),
  customer_portal_first_update = COALESCE({{ j_cport_upd_jsn.formData.customer_portal_first_update ? moment(j_cport_upd_jsn.formData.customer_portal_first_update).format('YYYY-MM-DD') : null }}, customer_portal_first_update),
  customer_portal_last_update  = COALESCE({{ j_cport_upd_jsn.formData.customer_portal_last_update  ? moment(j_cport_upd_jsn.formData.customer_portal_last_update ).format('YYYY-MM-DD') : null }}, customer_portal_last_update),
  customer_portal_next_update  = COALESCE({{ j_cport_upd_jsn.formData.customer_portal_next_update  ? moment(j_cport_upd_jsn.formData.customer_portal_next_update ).format('YYYY-MM-DD') : null }}, customer_portal_next_update),
  customer_portal_status       = COALESCE({{ j_cport_upd_jsn.formData.customer_portal_status }},       customer_portal_status),
  updated_at                   = NOW()
WHERE customer_portal_id = {{ appsmith.store.cportRow?.customer_portal_id }};
