UPDATE projects
SET
  project_name = COALESCE(NULLIF({{ u_project_name.text }}, ''), NULL),
  customer_id = COALESCE({{ u_customer_id.selectedOptionValue }}, NULL),
  currency_id = COALESCE({{ u_currency_id.selectedOptionValue }}, NULL),
  customer_account_id = COALESCE({{ u_customer_account_id.selectedOptionValue }}, NULL),
  project_status = COALESCE(NULLIF({{ u_project_status.selectedOptionValue }}, ''), NULL),
  service_id = COALESCE({{ u_service_id.selectedOptionValue }}, NULL),
  unit_id = COALESCE({{ u_unit_id.selectedOptionValue }}, NULL),
  source_language_id = COALESCE({{ u_source_language_id.selectedOptionValue }}, NULL),
  target_language_id = COALESCE({{ u_target_language_id.selectedOptionValue }}, NULL),
  pricing_mode = COALESCE(NULLIF({{ u_pricing_mode.selectedOptionValue }}, ''), 'PER_UNIT'),
  project_volume = COALESCE(NULLIF({{ u_project_volume.text }}, ''), NULL),
  project_rate = COALESCE(NULLIF({{ u_project_rate.text }}, ''), NULL),
  project_total = COALESCE(NULLIF({{ u_project_total.text }}, ''), NULL),
  project_start_date = {{ u_project_start_date.selectedDate ? moment(u_project_start_date.selectedDate).format('YYYY-MM-DD') : null }},
  project_end_date = {{ u_project_end_date.selectedDate ? moment(u_project_end_date.selectedDate).format('YYYY-MM-DD') : null }},
  customer_reference_number = COALESCE(NULLIF({{ u_customer_reference_number.text }}, ''), NULL),
  project_comments = COALESCE(NULLIF({{ u_project_comments.text }}, ''), NULL)
WHERE project_id = COALESCE(
  {{ appsmith.store.proj_id }},
  {{ appsmith.store.selectedProjectData?.project_id }},
  {{ Projects_Table.selectedRow?.project_id }},
  0
)
